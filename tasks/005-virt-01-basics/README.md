# Домашнее задание "Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения"

### Задача 1.
> Опишите кратко, в чём основное отличие полной (аппаратной)  
виртуализации, паравиртуализации и виртуализации на основе ОС.

**UPDATE**: Акцент на отличия с точки зрения использования гипервизоров:  
Полная (аппаратная) виртуализация, паравиртуализация и виртуализация уровня ОС являются различными методами виртуализации, которые используют разные типы гипервизоров.

* Полная (аппаратная) виртуализация использует гипервизоры, которы позволяют виртуальным машинам запускать операционные системы и приложения, не изменяя их кода. Гипервизор эмулирует аппаратное обеспечение, такое как процессоры, память и хранилище данных, для каждой виртуальной машины. Операционные системы и приложения на виртуальных машинах работают так, как если бы они были установлены на физическом сервере. Примерами гипервизоров, поддерживающих полную виртуализацию, являются VMware ESXi, Microsoft Hyper-V и Citrix XenServer.

* Паравиртуализация использует гипервизоры, которые позволяют виртуальным машинам запускать операционные системы и приложения, измененные для работы в виртуальной среде. При паравиртуализации гипервизор не эмулирует аппаратное обеспечение для каждой виртуальной машины. Вместо этого он предоставляет интерфейс, который позволяет виртуальным машинам взаимодействовать с аппаратурой сервера напрямую. Операционные системы и приложения на виртуальных машинах должны быть изменены, чтобы использовать этот интерфейс. Примерами гипервизоров, поддерживающих паравиртуализацию, являются Xen и Oracle VirtualBox.

* Виртуализация уровня ОС использует гипервизоры особого типа, которые позволяют виртуальным машинам запускать только операционные системы, которые могут работать на хостовой операционной системе. При этом каждая виртуальная машина использует одно и то же ядро операционной системы, которая запущена на хостовой ОС. Операционные системы и приложения на виртуальных машинах работают внутри контейнера, который изолирует их от других виртуальных машин и от хостовой ОС. Примеры гипервизоров с виртуализацией уровня ОС: Docker, OpenVZ.  

Таким образом, различия между полной (аппаратной) виртуализацией, паравиртуализацией и виртуализацией уровня ОС заключаются в том, как гипервизор эмулирует аппаратное обеспечение для виртуальных машин и какие операционные системы и приложения могут запускаться в виртуальной среде.

### Задача 2.
> Выберите один из вариантов использования организации  
физических серверов в зависимости от условий использования.

1. Высоконагруженная база данных, чувствительная к отказу:  
Я бы выбрал организацию физических серверов. База данных является одним из ключевых компонентов приложения, и её надежность и производительность критически важны для бизнеса. Использование физических серверов обеспечит наилучшую производительность и надежность, поскольку база данных будет работать напрямую с жесткими дисками и другими ресурсами физического сервера.

2. Различные web-приложения:  
Я бы выбрал виртуализацию уровня ОС. Веб-приложения обычно требуют небольшой вычислительной мощности, поэтому использование физических серверов может быть неоправданно дорогим. На мой взгляд, виртуализация уровня ОС обеспечит возможность разделения ресурсов между несколькими веб-приложениями на одном физическом сервере, что позволит оптимизировать использование ресурсов.

3. Windows-системы для использования бухгалтерским отделом:  
Я бы также выбрал виртуализацию уровня ОС. Это связано с тем, что бухгалтерские системы обычно требуют небольшой вычислительной мощности, а также тем, что виртуализация уровня ОС обеспечивает возможность быстрого развертывания и управления виртуальными машинами.

4. Системы, выполняющие высокопроизводительные расчёты на GPU:  
Я бы выбрал паравиртуализацию. Приложения, использующие GPU, требуют доступа к вычислительным ресурсам физического сервера, поэтому использование виртуализации уровня ОС будет неэффективно. Паравиртуализация позволит максимально эффективно использовать ресурсы физического сервера, а также обеспечит возможность разделения ресурсов между несколькими приложениями, использующими GPU. 

### Задача 3.
> Выберите подходящую систему управления виртуализацией  
для предложенного сценария. Детально опишите ваш выбор.
 
1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based-инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.  
   * Для данного сценария я бы выбрал систему управления виртуализацией VMware vSphere. Эта платформа поддерживает как виртуальные машины Linux, так и Windows, а также имеет возможность реализации программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий. Она также предоставляет удобный интерфейс управления и масштабируемость.
2. Требуется наиболее производительное бесплатное open source-решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
   * Для этого сценария я бы выбрал систему управления виртуализацией KVM. Это бесплатное open source-решение с открытым исходным кодом, которое работает на базе ядра Linux и позволяет эффективно использовать ресурсы физических серверов для запуска виртуальных машин. Оно также обладает высокой производительностью и хорошей совместимостью с различными операционными системами.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows-инфраструктуры.
   * Для данного сценария я бы выбрал систему управления виртуализацией Microsoft Hyper-V. Это бесплатное решение для виртуализации Windows-инфраструктуры, которое хорошо интегрируется с другими продуктами Microsoft, такими как Active Directory и System Center. Hyper-V также имеет низкие требования к аппаратному обеспечению и обеспечивает высокую производительность для виртуальных машин Windows.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.
   * Для данного сценария я бы выбрал систему управления виртуализацией VirtualBox. Это бесплатное решение, которое может быть установлено на рабочий стол и позволяет запускать виртуальные машины на компьютере. VirtualBox поддерживает множество операционных систем, включая различные дистрибутивы Linux, и предоставляет возможность тестирования программного обеспечения на различных окружениях без необходимости иметь физические серверы.
   * **UPDATE**: Другой вариант (возможно более предпочтительный) использовать для данного сценария Docker в качестве системы управления виртуализацией или контейнеризацией в данном случае. Docker -  это программная платформа для быстрой разработки, тестирования и развертывания приложений. Контейнеры, запущенные на одном хосте, работают под управлением ядра Linux хостовой машины, но дистрибутивы Linux внутри каждого контейнера могут быть различные при этом.  

### Задача 4.
> Опишите возможные проблемы и недостатки гетерогенной среды виртуализации  
(использования нескольких систем управления виртуализацией одновременно) и  
что необходимо сделать для минимизации этих рисков и проблем.  
Если бы у вас был выбор, создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

На мой взгляд, проблемы гетерогенной среды виртуализации:

* использование разных систем управления виртуализацией может привести к усложнению управления всей средой.

* использование разных систем виртуализации может привести к неэффективному использованию ресурсов, так как каждая система имеет свои требования к оборудованию.

* использование нескольких систем виртуализации может привести к увеличению стоимости, так как каждая система требует отдельной лицензии и обслуживания.

Для минимизации подобных проблем я бы действовал так:

* Определил основные задачи и требования к виртуализации и выбрал бы наиболее подходящую систему управления виртуализацией для каждой задачи.

* Спроектировал среду таким образом, чтобы была возможность интеграции между разными системами виртуализации.

* Работал бы над повышением компетенций всех сотрудников, участвующих в сопровождении инфраструктуры.

* Проводил бы регулярное обслуживание и тестирование всей среды виртуализации.

Вообще, если бы у меня был выбор, я бы не создавал гетерогенную среду виртуализации, потому что это может привести к усложнению управления, неэффективному использованию ресурсов, текучке кадров и увеличению стоимости. 
